[NeMo W 2024-05-02 19:21:00 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/hydra/_internal/hydra.py:119: UserWarning: Future Hydra versions will no longer change working directory at job runtime by default.
    See https://hydra.cc/docs/1.2/upgrades/1.1_to_1.2/changes_to_job_working_dir/ for more information.
      ret = run_job(
    
[NeMo I 2024-05-02 19:21:00 modular_audio_gpt_train:53] 
    
    ************** Experiment configuration ***********
[NeMo I 2024-05-02 19:21:00 modular_audio_gpt_train:54] 
    name: megatron_audio_gpt_peft_tuning
    trainer:
      devices: 1
      accelerator: gpu
      num_nodes: 1
      precision: bf16
      logger: false
      enable_checkpointing: false
      use_distributed_sampler: false
      max_epochs: 9999
      max_steps: 1000000
      limit_train_batches: 10
      log_every_n_steps: 10
      val_check_interval: 10
      gradient_clip_val: 1.0
      accumulate_grad_batches: 1
      benchmark: false
    model_target: nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model
    exp_manager:
      exp_dir: null
      name: ${name}
      create_wandb_logger: false
      wandb_logger_kwargs:
        project: null
        name: null
      resume_if_exists: true
      resume_ignore_no_checkpoint: true
      create_checkpoint_callback: true
      checkpoint_callback_params:
        monitor: validation_${model.data.validation_ds.metric.name}
        save_top_k: 1
        mode: min
        save_nemo_on_train_end: true
        filename: ${name}--{${exp_manager.checkpoint_callback_params.monitor}:.3f}-{step}-{epoch}
        model_parallel_size: ${model.tensor_model_parallel_size}
        always_save_nemo: false
        save_best_model: true
      create_early_stopping_callback: false
      early_stopping_callback_params:
        monitor: val_loss
        mode: min
        min_delta: 0.001
        patience: 10
        verbose: true
        strict: false
    model:
      virtual_prompt_style: no-prompts
      seed: 1234
      tensor_model_parallel_size: 1
      pipeline_model_parallel_size: 1
      pretrained_audio_model: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
      freeze_llm: false
      freeze_audio_encoder: false
      freeze_modality_adapter: false
      load_audio_encoder: true
      global_batch_size: 2
      micro_batch_size: 2
      language_model_path: /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo
      resume_from_checkpoint: null
      save_nemo_on_validation_end: false
      sync_batch_comm: false
      megatron_amp_O2: false
      sequence_parallel: false
      activations_checkpoint_granularity: null
      activations_checkpoint_method: null
      activations_checkpoint_num_layers: null
      activations_checkpoint_layers_per_pipeline: null
      answer_only_loss: true
      gradient_as_bucket_view: false
      hidden_dropout: 0.0
      attention_dropout: 0.0
      ffn_dropout: 0.0
      lora_tuning:
        kqv_adapter_dim: 128
        kv_adapter_dim: 64
        q_adapter_dim: 32
        adapter_dropout: 0.0
        column_init_method: xavier
        row_init_method: zero
      peft:
        peft_scheme: adapter
        restore_from_path: null
        adapter_tuning:
          type: parallel_adapter
          adapter_dim: 32
          adapter_dropout: 0.0
          norm_position: pre
          column_init_method: xavier
          row_init_method: zero
          norm_type: mixedfusedlayernorm
        p_tuning:
          virtual_tokens: 10
          bottleneck_dim: 1024
          embedding_dim: 1024
          init_std: 0.023
      perception:
        target: nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule
        use_multi_layer_feat: false
        modality_adapter:
          _target_: nemo.collections.asr.modules.ConformerEncoder
          feat_in: 1024
          feat_out: -1
          n_layers: 2
          d_model: 512
          subsampling: dw_striding
          subsampling_factor: 16
          subsampling_conv_channels: 256
          causal_downsampling: false
          reduction: striding
          reduction_position: -1
          reduction_factor: 16
          ff_expansion_factor: 4
          self_attention_model: rel_pos
          n_heads: 8
          att_context_size:
          - -1
          - -1
          att_context_style: regular
          xscaling: true
          untie_biases: true
          pos_emb_max_len: 5000
          conv_kernel_size: 9
          conv_norm_type: batch_norm
          conv_context_size: null
          dropout: 0.1
          dropout_pre_encoder: 0.1
          dropout_emb: 0.0
          dropout_att: 0.1
          stochastic_depth_drop_prob: 0.0
          stochastic_depth_mode: linear
          stochastic_depth_start_layer: 1
        spec_augment:
          _target_: nemo.collections.asr.modules.SpectrogramAugmentation
          freq_masks: 2
          time_masks: 10
          freq_width: 27
          time_width: 0.05
        multi_layer_feat:
          layer_idx_list:
          - 0
          - 6
          - 12
          - 16
          - -1
          aggregator:
            align_mode: max
        is_canary: true
        is_ctc: false
        greedy_decoding_overwrite: true
      data:
        train_ds:
          manifest_filepath:
          - - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
            - 1
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: true
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: true
          concat_sampling_probabilities: null
          context_key: input
          label_key: output
          add_eos: true
          add_sep: true
          add_bos: true
          separate_prompt_and_response_with_newline: false
          truncation_field: context
          index_mapping_dir: null
          prompt_template: 'Q: {input}
    
            A: {output}'
          sample_rate: 16000
          max_duration: 24
          min_duration: 0.1
          is_tarred: false
          tarred_audio_filepaths: null
          shuffle_n: 2048
          bucketing_strategy: fully_randomized
          bucketing_batch_size: null
          use_lhotse: true
          duration_bins:
          - 2
          - 4
          - 6
          - 8
          - 10
          - 12
          - 14
          - 16
          - 18
          lhotse:
            text_field: text
            batch_duration: 80
            quadratic_duration: 30
            max_open_streams: 50
            num_buckets: 30
            buffer_size: 10000
            shuffle_buffer_size: 10000
            duration_bins:
            - 2.92
            - 3.474
            - 3.924
            - 4.335
            - 4.728
            - 5.11
            - 5.487
            - 5.872
            - 6.288
            - 6.696
            - 7.128
            - 7.62
            - 8.208
            - 8.934
            - 9.883
            - 10.56
            - 11.22
            - 11.88
            - 12.51
            - 13.05
            - 13.59
            - 14.13
            - 14.64
            - 15.17875
            - 15.81
            - 16.54
            - 17.37
            - 18.241
            - 19.18
          convert_canary_prompt_to_text: true
          seed: trng
          use_bucketing: false
          canary_tokens_augment_ratio: 0.5
          batch_size: 1
          batch_duration: null
        validation_ds:
          manifest_filepath:
          - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: false
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: false
          context_key: ${model.data.train_ds.context_key}
          label_key: ${model.data.train_ds.label_key}
          add_eos: ${model.data.train_ds.add_eos}
          add_sep: ${model.data.train_ds.add_sep}
          add_bos: ${model.data.train_ds.add_bos}
          separate_prompt_and_response_with_newline: ${model.data.train_ds.separate_prompt_and_response_with_newline}
          write_predictions_to_file: false
          output_file_path_prefix: null
          truncation_field: context
          index_mapping_dir: null
          prompt_template: ${model.data.train_ds.prompt_template}
          tokens_to_generate: 128
          sample_rate: 16000
          log_every_n_steps: 1
          metric:
            name: wer
            average: null
            num_classes: null
          convert_canary_prompt_to_text: true
          use_lhotse: true
          batch_size: 2
          use_bucketing: false
          text_field: text
        num_workers: 0
      optim:
        name: distributed_fused_adam
        lr: 0.0001
        weight_decay: 0.01
        betas:
        - 0.9
        - 0.98
        sched:
          name: CosineAnnealing
          warmup_steps: 50
          min_lr: 0.0
          constant_steps: 0
          monitor: val_loss
          reduce_on_plateau: false
        bucket_cap_mb: 200
        overlap_grad_sync: false
        contiguous_grad_buffer: true
      use_flash_attention: true
      label_smoothing: 0.0
      audio_prompt_first: false
      legacy_tokenizer: false
    
[NeMo W 2024-05-02 19:21:00 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/pytorch_lightning/_graveyard/precision.py:49: The `MixedPrecisionPlugin` is deprecated. Use `pytorch_lightning.plugins.precision.MixedPrecision` instead.
    
[NeMo W 2024-05-02 19:21:00 exp_manager:779] No version folders would be created under the log folder as 'resume_if_exists' is enabled.
[NeMo W 2024-05-02 19:21:00 exp_manager:636] There were no checkpoints found in checkpoint_dir or no checkpoint folder at checkpoint_dir :/workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning/checkpoints. Training from scratch.
[NeMo I 2024-05-02 19:21:00 exp_manager:402] Experiments will be logged at /workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning
[NeMo I 2024-05-02 19:21:00 exp_manager:862] TensorboardLogger has been set up
[NeMo W 2024-05-02 19:21:00 exp_manager:972] The checkpoint callback was told to monitor a validation value and trainer's max_steps was set to 1000000. Please ensure that max_steps will run for at least 1 epochs to ensure that checkpointing will not error out.
[NeMo I 2024-05-02 19:21:00 modular_audio_gpt_train:65] Resuming training from checkpoint: None
[NeMo I 2024-05-02 19:21:00 modular_models_t5:782] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
[NeMo I 2024-05-02 19:21:04 mixins:196] _setup_tokenizer: detected an aggregate tokenizer
[NeMo I 2024-05-02 19:21:04 mixins:330] Tokenizer SentencePieceTokenizer initialized with 32 tokens
[NeMo I 2024-05-02 19:21:04 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:04 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:04 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:04 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:04 aggregate_tokenizer:72] Aggregate vocab size: 4128
[NeMo W 2024-05-02 19:21:04 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    tarred_audio_filepaths: null
    manifest_filepath: null
    sample_rate: 16000
    shuffle: true
    batch_size: null
    num_workers: 8
    use_lhotse: true
    max_duration: 40
    pin_memory: true
    use_bucketing: false
    bucket_duration_bins: null
    num_buckets: 1
    text_field: answer
    lang_field: target_lang
    batch_duration: 360
    quadratic_duration: 15
    bucket_buffer_size: 20000
    shuffle_buffer_size: 10000
    
[NeMo W 2024-05-02 19:21:04 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 8
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo W 2024-05-02 19:21:04 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 32
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo I 2024-05-02 19:21:04 features:289] PADDING: 0
[NeMo I 2024-05-02 19:21:11 save_restore_connector:263] Model EncDecMultiTaskModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo.
[NeMo W 2024-05-02 19:21:14 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    src_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh
    dataset_type: text_memmap
    sampler: megatron
    objective: nmt
    sampling_ratios:
      x-masking: 0.17
      r-masking: 0.17
      s-masking: 0.16
      nmt: 0.5
    micro_batch_size: 32
    global_batch_size: 4096
    max_seq_length: 200
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    concat_sampling_probabilities:
    - 0.012079820672707742
    - 0.016125217503511844
    - 0.03626405466253948
    - 0.01217289500041378
    - 0.04520111041715901
    - 0.007778295986876517
    - 0.03959457585431642
    - 0.00937805808913587
    - 0.027516665418018966
    - 0.010004415544666008
    - 0.009052615756098137
    - 0.01664103670972995
    - 0.01317695006198955
    - 0.010400945451383595
    - 0.03700537499491787
    - 0.01213023719986516
    - 0.023180697856706678
    - 0.0079325539040838
    - 0.011030260193413926
    - 0.019903551776449247
    - 0.00548458605245884
    - 0.010315645749094665
    - 0.009498254269640816
    - 0.009666841771959356
    - 0.008698798484594553
    - 0.009119913897487926
    - 0.012526596113277083
    - 0.001030286797419826
    - 0.013440850595640926
    - 0.013895414829953141
    - 0.014310913420997613
    - 0.01704821157161736
    - 0.004173268999221557
    - 0.009057451914012637
    - 0.02863892065664867
    - 0.005480045807058129
    - 0.037354112218624426
    - 0.004483874066833804
    - 0.03138995440424893
    - 0.002395876541837417
    - 0.01919199888020302
    - 0.002800415770666161
    - 0.0009953634967244916
    - 0.008353124755753881
    - 0.006437406068637299
    - 0.0033554558228045274
    - 0.029167786295177012
    - 0.005308275622888979
    - 0.014194241584489132
    - 0.0013918329447084512
    - 0.003765193961949543
    - 0.010465396840845227
    - 0.00548458605245884
    - 0.0019940542787465713
    - 0.002757370990960256
    - 0.00216151231674439
    - 0.000858616548617175
    - 0.001144572514820409
    - 0.004136350127695843
    - 0.0009179128306017478
    - 0.00843676070723886
    - 0.005691504608208263
    - 0.005978464578748304
    - 0.00832996592427451
    - 0.00748234388829959
    - 0.01001855337068116
    - 0.0076602485249064566
    - 0.010198830066225314
    - 0.009994006692207293
    - 0.009841454598160639
    - 0.010020227396225174
    - 0.012478618376789777
    - 0.012662384157748709
    - 0.004846483163020644
    - 0.012518401521379334
    - 0.00756044532401132
    - 0.01277125854810163
    - 0.00763170172789367
    - 0.015043000006714921
    - 0.004847278427901452
    - 0.00268364854130784
    - 0.0024562270121523625
    - 0.0024875934141485104
    - 0.00473566035748647
    - 0.011017099549256261
    - 0.003513766205647466
    - 0.010736544419050307
    - 0.008674812266152283
    - 0.01100110091373828
    - 0.0008724160652963875
    - 0.0025283922438319962
    - 0.0008743672925117623
    - 0.004064381305784134
    - 0.0008814398827947293
    
[NeMo W 2024-05-02 19:21:14 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    src_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:21:14 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    src_file_name: /data/valid_nmt_1.2/validation-cs-en.ref
    tgt_file_name: /data/valid_nmt_1.2/validation-cs-en.src
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:21:14 megatron_init:253] Rank 0 has data parallel group : [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:259] Rank 0 has combined group of data parallel and context parallel : [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:264] All data parallel group ranks with context parallel combined: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:267] Ranks 0 has data parallel rank: 0
[NeMo I 2024-05-02 19:21:14 megatron_init:284] Rank 0 has context parallel group: [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:287] All context parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:288] Ranks 0 has context parallel rank: 0
[NeMo I 2024-05-02 19:21:14 megatron_init:299] Rank 0 has model parallel group: [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:300] All model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:310] Rank 0 has tensor model parallel group: [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:314] All tensor model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:315] Rank 0 has tensor model parallel rank: 0
[NeMo I 2024-05-02 19:21:14 megatron_init:344] Rank 0 has pipeline model parallel group: [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:356] Rank 0 has embedding group: [0]
[NeMo I 2024-05-02 19:21:14 megatron_init:362] All pipeline model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:363] Rank 0 has pipeline model parallel rank 0
[NeMo I 2024-05-02 19:21:14 megatron_init:364] All embedding group ranks: [[0]]
[NeMo I 2024-05-02 19:21:14 megatron_init:365] Rank 0 has embedding rank: 0
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:14 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:21:14 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmpneoqd2i2/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:21:14 megatron_base_model:621] Padded vocab_size: 64000, original vocab_size: 64000, dummy tokens: 0.
[NeMo W 2024-05-02 19:21:16 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    src_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh
    dataset_type: text_memmap
    sampler: megatron
    objective: nmt
    sampling_ratios:
      x-masking: 0.17
      r-masking: 0.17
      s-masking: 0.16
      nmt: 0.5
    micro_batch_size: 32
    global_batch_size: 4096
    max_seq_length: 200
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    concat_sampling_probabilities:
    - 0.012079820672707742
    - 0.016125217503511844
    - 0.03626405466253948
    - 0.01217289500041378
    - 0.04520111041715901
    - 0.007778295986876517
    - 0.03959457585431642
    - 0.00937805808913587
    - 0.027516665418018966
    - 0.010004415544666008
    - 0.009052615756098137
    - 0.01664103670972995
    - 0.01317695006198955
    - 0.010400945451383595
    - 0.03700537499491787
    - 0.01213023719986516
    - 0.023180697856706678
    - 0.0079325539040838
    - 0.011030260193413926
    - 0.019903551776449247
    - 0.00548458605245884
    - 0.010315645749094665
    - 0.009498254269640816
    - 0.009666841771959356
    - 0.008698798484594553
    - 0.009119913897487926
    - 0.012526596113277083
    - 0.001030286797419826
    - 0.013440850595640926
    - 0.013895414829953141
    - 0.014310913420997613
    - 0.01704821157161736
    - 0.004173268999221557
    - 0.009057451914012637
    - 0.02863892065664867
    - 0.005480045807058129
    - 0.037354112218624426
    - 0.004483874066833804
    - 0.03138995440424893
    - 0.002395876541837417
    - 0.01919199888020302
    - 0.002800415770666161
    - 0.0009953634967244916
    - 0.008353124755753881
    - 0.006437406068637299
    - 0.0033554558228045274
    - 0.029167786295177012
    - 0.005308275622888979
    - 0.014194241584489132
    - 0.0013918329447084512
    - 0.003765193961949543
    - 0.010465396840845227
    - 0.00548458605245884
    - 0.0019940542787465713
    - 0.002757370990960256
    - 0.00216151231674439
    - 0.000858616548617175
    - 0.001144572514820409
    - 0.004136350127695843
    - 0.0009179128306017478
    - 0.00843676070723886
    - 0.005691504608208263
    - 0.005978464578748304
    - 0.00832996592427451
    - 0.00748234388829959
    - 0.01001855337068116
    - 0.0076602485249064566
    - 0.010198830066225314
    - 0.009994006692207293
    - 0.009841454598160639
    - 0.010020227396225174
    - 0.012478618376789777
    - 0.012662384157748709
    - 0.004846483163020644
    - 0.012518401521379334
    - 0.00756044532401132
    - 0.01277125854810163
    - 0.00763170172789367
    - 0.015043000006714921
    - 0.004847278427901452
    - 0.00268364854130784
    - 0.0024562270121523625
    - 0.0024875934141485104
    - 0.00473566035748647
    - 0.011017099549256261
    - 0.003513766205647466
    - 0.010736544419050307
    - 0.008674812266152283
    - 0.01100110091373828
    - 0.0008724160652963875
    - 0.0025283922438319962
    - 0.0008743672925117623
    - 0.004064381305784134
    - 0.0008814398827947293
    
[NeMo W 2024-05-02 19:21:16 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    src_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:21:16 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    src_file_name: /data/valid_nmt_1.2/validation-cs-en.ref
    tgt_file_name: /data/valid_nmt_1.2/validation-cs-en.src
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:21:16 megatron_init:253] Rank 0 has data parallel group : [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:259] Rank 0 has combined group of data parallel and context parallel : [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:264] All data parallel group ranks with context parallel combined: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:267] Ranks 0 has data parallel rank: 0
[NeMo I 2024-05-02 19:21:16 megatron_init:284] Rank 0 has context parallel group: [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:287] All context parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:288] Ranks 0 has context parallel rank: 0
[NeMo I 2024-05-02 19:21:16 megatron_init:299] Rank 0 has model parallel group: [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:300] All model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:310] Rank 0 has tensor model parallel group: [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:314] All tensor model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:315] Rank 0 has tensor model parallel rank: 0
[NeMo I 2024-05-02 19:21:16 megatron_init:344] Rank 0 has pipeline model parallel group: [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:356] Rank 0 has embedding group: [0]
[NeMo I 2024-05-02 19:21:16 megatron_init:362] All pipeline model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:363] Rank 0 has pipeline model parallel rank 0
[NeMo I 2024-05-02 19:21:16 megatron_init:364] All embedding group ranks: [[0]]
[NeMo I 2024-05-02 19:21:16 megatron_init:365] Rank 0 has embedding rank: 0
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:21:16 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:21:16 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmp4s4e0quv/14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:21:16 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmp4s4e0quv/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:21:17 megatron_base_model:621] Padded vocab_size: 64128, original vocab_size: 64033, dummy tokens: 95.
[NeMo I 2024-05-02 19:21:19 nlp_overrides:1133] Model MegatronNMTModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo.
[NeMo I 2024-05-02 19:21:19 modular_models_t5:152] self.frozen_model.cfg: {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': '/tmp/tmp4s4e0quv/14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': '/tmp/tmp4s4e0quv/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}
[NeMo I 2024-05-02 19:21:19 megatron_t5_adapter_model:460] Before adding adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    0         Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,733.118 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:21:19 megatron_t5_adapter_model:467] Adding encoder adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    7.9 M     Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,764.575 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:21:20 megatron_t5_adapter_model:472] Adding decoder adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    55.1 M    Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,953.319 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:21:20 features:289] PADDING: 0
[NeMo I 2024-05-02 19:21:21 modular_models_t5:782] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
[NeMo I 2024-05-02 19:21:25 mixins:196] _setup_tokenizer: detected an aggregate tokenizer
[NeMo I 2024-05-02 19:21:25 mixins:330] Tokenizer SentencePieceTokenizer initialized with 32 tokens
[NeMo I 2024-05-02 19:21:25 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:25 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:25 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:25 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:21:25 aggregate_tokenizer:72] Aggregate vocab size: 4128
[NeMo W 2024-05-02 19:21:25 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    tarred_audio_filepaths: null
    manifest_filepath: null
    sample_rate: 16000
    shuffle: true
    batch_size: null
    num_workers: 8
    use_lhotse: true
    max_duration: 40
    pin_memory: true
    use_bucketing: false
    bucket_duration_bins: null
    num_buckets: 1
    text_field: answer
    lang_field: target_lang
    batch_duration: 360
    quadratic_duration: 15
    bucket_buffer_size: 20000
    shuffle_buffer_size: 10000
    
[NeMo W 2024-05-02 19:21:25 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 8
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo W 2024-05-02 19:21:25 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 32
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo I 2024-05-02 19:21:25 features:289] PADDING: 0
[NeMo I 2024-05-02 19:21:30 save_restore_connector:263] Model EncDecMultiTaskModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo.
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:30 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:21:31 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:21:31 modular_models_t5:283] Optimizer groups set:
      | Name                         | Type                                   | Params
    ----------------------------------------------------------------------------------------
    0 | frozen_model                 | MegatronNMTModel                       | 1.2 B 
    1 | frozen_model.enc_dec_model   | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    2 | val_metric                   | ModuleList                             | 0     
    3 | val_metric.0                 | WordErrorRate                          | 0     
    4 | perception                   | AudioPerceptionModule                  | 646 M 
    5 | perception.preprocessor      | AudioToMelSpectrogramPreprocessor      | 0     
    6 | perception.encoder           | ConformerEncoder                       | 609 M 
    7 | perception.spec_augmentation | SpectrogramAugmentation                | 0     
    8 | perception.modality_adapter  | ConformerEncoder                       | 36.7 M
    9 | perception.proj              | Linear                                 | 656 K 
    ----------------------------------------------------------------------------------------
    1.9 B     Trainable params
    0         Non-trainable params
    1.9 B     Total params
    7,540.015 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:21:32 nlp_overrides:1133] Model ModularizedAudioT5Model was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo.
[NeMo W 2024-05-02 19:22:22 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/hydra/_internal/hydra.py:119: UserWarning: Future Hydra versions will no longer change working directory at job runtime by default.
    See https://hydra.cc/docs/1.2/upgrades/1.1_to_1.2/changes_to_job_working_dir/ for more information.
      ret = run_job(
    
[NeMo I 2024-05-02 19:22:22 modular_audio_gpt_train:53] 
    
    ************** Experiment configuration ***********
[NeMo I 2024-05-02 19:22:22 modular_audio_gpt_train:54] 
    name: megatron_audio_gpt_peft_tuning
    trainer:
      devices: 1
      accelerator: gpu
      num_nodes: 1
      precision: bf16
      logger: false
      enable_checkpointing: false
      use_distributed_sampler: false
      max_epochs: 9999
      max_steps: 1000000
      limit_train_batches: 10
      log_every_n_steps: 10
      val_check_interval: 10
      gradient_clip_val: 1.0
      accumulate_grad_batches: 1
      benchmark: false
    model_target: nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model
    exp_manager:
      exp_dir: null
      name: ${name}
      create_wandb_logger: false
      wandb_logger_kwargs:
        project: null
        name: null
      resume_if_exists: true
      resume_ignore_no_checkpoint: true
      create_checkpoint_callback: true
      checkpoint_callback_params:
        monitor: validation_${model.data.validation_ds.metric.name}
        save_top_k: 1
        mode: min
        save_nemo_on_train_end: true
        filename: ${name}--{${exp_manager.checkpoint_callback_params.monitor}:.3f}-{step}-{epoch}
        model_parallel_size: ${model.tensor_model_parallel_size}
        always_save_nemo: false
        save_best_model: true
      create_early_stopping_callback: false
      early_stopping_callback_params:
        monitor: val_loss
        mode: min
        min_delta: 0.001
        patience: 10
        verbose: true
        strict: false
    model:
      virtual_prompt_style: no-prompts
      seed: 1234
      tensor_model_parallel_size: 1
      pipeline_model_parallel_size: 1
      pretrained_audio_model: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
      freeze_llm: false
      freeze_audio_encoder: false
      freeze_modality_adapter: false
      load_audio_encoder: true
      global_batch_size: 2
      micro_batch_size: 2
      language_model_path: /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo
      resume_from_checkpoint: null
      save_nemo_on_validation_end: false
      sync_batch_comm: false
      megatron_amp_O2: false
      sequence_parallel: false
      activations_checkpoint_granularity: null
      activations_checkpoint_method: null
      activations_checkpoint_num_layers: null
      activations_checkpoint_layers_per_pipeline: null
      answer_only_loss: true
      gradient_as_bucket_view: false
      hidden_dropout: 0.0
      attention_dropout: 0.0
      ffn_dropout: 0.0
      lora_tuning:
        kqv_adapter_dim: 128
        kv_adapter_dim: 64
        q_adapter_dim: 32
        adapter_dropout: 0.0
        column_init_method: xavier
        row_init_method: zero
      peft:
        peft_scheme: adapter
        restore_from_path: null
        adapter_tuning:
          type: parallel_adapter
          adapter_dim: 32
          adapter_dropout: 0.0
          norm_position: pre
          column_init_method: xavier
          row_init_method: zero
          norm_type: mixedfusedlayernorm
        p_tuning:
          virtual_tokens: 10
          bottleneck_dim: 1024
          embedding_dim: 1024
          init_std: 0.023
      perception:
        target: nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule
        use_multi_layer_feat: false
        modality_adapter:
          _target_: nemo.collections.asr.modules.ConformerEncoder
          feat_in: 1024
          feat_out: -1
          n_layers: 2
          d_model: 512
          subsampling: dw_striding
          subsampling_factor: 16
          subsampling_conv_channels: 256
          causal_downsampling: false
          reduction: striding
          reduction_position: -1
          reduction_factor: 16
          ff_expansion_factor: 4
          self_attention_model: rel_pos
          n_heads: 8
          att_context_size:
          - -1
          - -1
          att_context_style: regular
          xscaling: true
          untie_biases: true
          pos_emb_max_len: 5000
          conv_kernel_size: 9
          conv_norm_type: batch_norm
          conv_context_size: null
          dropout: 0.1
          dropout_pre_encoder: 0.1
          dropout_emb: 0.0
          dropout_att: 0.1
          stochastic_depth_drop_prob: 0.0
          stochastic_depth_mode: linear
          stochastic_depth_start_layer: 1
        spec_augment:
          _target_: nemo.collections.asr.modules.SpectrogramAugmentation
          freq_masks: 2
          time_masks: 10
          freq_width: 27
          time_width: 0.05
        multi_layer_feat:
          layer_idx_list:
          - 0
          - 6
          - 12
          - 16
          - -1
          aggregator:
            align_mode: max
        is_canary: true
        is_ctc: false
        greedy_decoding_overwrite: true
      data:
        train_ds:
          manifest_filepath:
          - - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
            - 1
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: true
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: true
          concat_sampling_probabilities: null
          context_key: input
          label_key: output
          add_eos: true
          add_sep: true
          add_bos: true
          separate_prompt_and_response_with_newline: false
          truncation_field: context
          index_mapping_dir: null
          prompt_template: 'Q: {input}
    
            A: {output}'
          sample_rate: 16000
          max_duration: 24
          min_duration: 0.1
          is_tarred: false
          tarred_audio_filepaths: null
          shuffle_n: 2048
          bucketing_strategy: fully_randomized
          bucketing_batch_size: null
          use_lhotse: true
          duration_bins:
          - 2
          - 4
          - 6
          - 8
          - 10
          - 12
          - 14
          - 16
          - 18
          lhotse:
            text_field: text
            batch_duration: 80
            quadratic_duration: 30
            max_open_streams: 50
            num_buckets: 30
            buffer_size: 10000
            shuffle_buffer_size: 10000
            duration_bins:
            - 2.92
            - 3.474
            - 3.924
            - 4.335
            - 4.728
            - 5.11
            - 5.487
            - 5.872
            - 6.288
            - 6.696
            - 7.128
            - 7.62
            - 8.208
            - 8.934
            - 9.883
            - 10.56
            - 11.22
            - 11.88
            - 12.51
            - 13.05
            - 13.59
            - 14.13
            - 14.64
            - 15.17875
            - 15.81
            - 16.54
            - 17.37
            - 18.241
            - 19.18
          convert_canary_prompt_to_text: true
          seed: trng
          use_bucketing: false
          canary_tokens_augment_ratio: 0.5
          batch_size: 1
          batch_duration: null
        validation_ds:
          manifest_filepath:
          - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: false
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: false
          context_key: ${model.data.train_ds.context_key}
          label_key: ${model.data.train_ds.label_key}
          add_eos: ${model.data.train_ds.add_eos}
          add_sep: ${model.data.train_ds.add_sep}
          add_bos: ${model.data.train_ds.add_bos}
          separate_prompt_and_response_with_newline: ${model.data.train_ds.separate_prompt_and_response_with_newline}
          write_predictions_to_file: false
          output_file_path_prefix: null
          truncation_field: context
          index_mapping_dir: null
          prompt_template: ${model.data.train_ds.prompt_template}
          tokens_to_generate: 128
          sample_rate: 16000
          log_every_n_steps: 1
          metric:
            name: wer
            average: null
            num_classes: null
          convert_canary_prompt_to_text: true
          use_lhotse: true
          batch_size: 2
          use_bucketing: false
          text_field: text
        num_workers: 0
      optim:
        name: distributed_fused_adam
        lr: 0.0001
        weight_decay: 0.01
        betas:
        - 0.9
        - 0.98
        sched:
          name: CosineAnnealing
          warmup_steps: 50
          min_lr: 0.0
          constant_steps: 0
          monitor: val_loss
          reduce_on_plateau: false
        bucket_cap_mb: 200
        overlap_grad_sync: false
        contiguous_grad_buffer: true
      use_flash_attention: true
      label_smoothing: 0.0
      audio_prompt_first: false
      legacy_tokenizer: false
    
[NeMo W 2024-05-02 19:22:22 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/pytorch_lightning/_graveyard/precision.py:49: The `MixedPrecisionPlugin` is deprecated. Use `pytorch_lightning.plugins.precision.MixedPrecision` instead.
    
[NeMo W 2024-05-02 19:22:22 exp_manager:779] No version folders would be created under the log folder as 'resume_if_exists' is enabled.
[NeMo W 2024-05-02 19:22:22 exp_manager:636] There were no checkpoints found in checkpoint_dir or no checkpoint folder at checkpoint_dir :/workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning/checkpoints. Training from scratch.
[NeMo I 2024-05-02 19:22:22 exp_manager:402] Experiments will be logged at /workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning
[NeMo I 2024-05-02 19:22:22 exp_manager:862] TensorboardLogger has been set up
[NeMo W 2024-05-02 19:22:22 exp_manager:972] The checkpoint callback was told to monitor a validation value and trainer's max_steps was set to 1000000. Please ensure that max_steps will run for at least 1 epochs to ensure that checkpointing will not error out.
[NeMo I 2024-05-02 19:22:22 modular_audio_gpt_train:65] Resuming training from checkpoint: None
[NeMo I 2024-05-02 19:22:22 modular_models_t5:782] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
[NeMo I 2024-05-02 19:22:26 mixins:196] _setup_tokenizer: detected an aggregate tokenizer
[NeMo I 2024-05-02 19:22:26 mixins:330] Tokenizer SentencePieceTokenizer initialized with 32 tokens
[NeMo I 2024-05-02 19:22:26 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:26 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:26 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:26 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:26 aggregate_tokenizer:72] Aggregate vocab size: 4128
[NeMo W 2024-05-02 19:22:26 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    tarred_audio_filepaths: null
    manifest_filepath: null
    sample_rate: 16000
    shuffle: true
    batch_size: null
    num_workers: 8
    use_lhotse: true
    max_duration: 40
    pin_memory: true
    use_bucketing: false
    bucket_duration_bins: null
    num_buckets: 1
    text_field: answer
    lang_field: target_lang
    batch_duration: 360
    quadratic_duration: 15
    bucket_buffer_size: 20000
    shuffle_buffer_size: 10000
    
[NeMo W 2024-05-02 19:22:26 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 8
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo W 2024-05-02 19:22:26 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 32
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo I 2024-05-02 19:22:26 features:289] PADDING: 0
[NeMo I 2024-05-02 19:22:31 save_restore_connector:263] Model EncDecMultiTaskModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo.
[NeMo W 2024-05-02 19:22:34 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    src_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh
    dataset_type: text_memmap
    sampler: megatron
    objective: nmt
    sampling_ratios:
      x-masking: 0.17
      r-masking: 0.17
      s-masking: 0.16
      nmt: 0.5
    micro_batch_size: 32
    global_batch_size: 4096
    max_seq_length: 200
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    concat_sampling_probabilities:
    - 0.012079820672707742
    - 0.016125217503511844
    - 0.03626405466253948
    - 0.01217289500041378
    - 0.04520111041715901
    - 0.007778295986876517
    - 0.03959457585431642
    - 0.00937805808913587
    - 0.027516665418018966
    - 0.010004415544666008
    - 0.009052615756098137
    - 0.01664103670972995
    - 0.01317695006198955
    - 0.010400945451383595
    - 0.03700537499491787
    - 0.01213023719986516
    - 0.023180697856706678
    - 0.0079325539040838
    - 0.011030260193413926
    - 0.019903551776449247
    - 0.00548458605245884
    - 0.010315645749094665
    - 0.009498254269640816
    - 0.009666841771959356
    - 0.008698798484594553
    - 0.009119913897487926
    - 0.012526596113277083
    - 0.001030286797419826
    - 0.013440850595640926
    - 0.013895414829953141
    - 0.014310913420997613
    - 0.01704821157161736
    - 0.004173268999221557
    - 0.009057451914012637
    - 0.02863892065664867
    - 0.005480045807058129
    - 0.037354112218624426
    - 0.004483874066833804
    - 0.03138995440424893
    - 0.002395876541837417
    - 0.01919199888020302
    - 0.002800415770666161
    - 0.0009953634967244916
    - 0.008353124755753881
    - 0.006437406068637299
    - 0.0033554558228045274
    - 0.029167786295177012
    - 0.005308275622888979
    - 0.014194241584489132
    - 0.0013918329447084512
    - 0.003765193961949543
    - 0.010465396840845227
    - 0.00548458605245884
    - 0.0019940542787465713
    - 0.002757370990960256
    - 0.00216151231674439
    - 0.000858616548617175
    - 0.001144572514820409
    - 0.004136350127695843
    - 0.0009179128306017478
    - 0.00843676070723886
    - 0.005691504608208263
    - 0.005978464578748304
    - 0.00832996592427451
    - 0.00748234388829959
    - 0.01001855337068116
    - 0.0076602485249064566
    - 0.010198830066225314
    - 0.009994006692207293
    - 0.009841454598160639
    - 0.010020227396225174
    - 0.012478618376789777
    - 0.012662384157748709
    - 0.004846483163020644
    - 0.012518401521379334
    - 0.00756044532401132
    - 0.01277125854810163
    - 0.00763170172789367
    - 0.015043000006714921
    - 0.004847278427901452
    - 0.00268364854130784
    - 0.0024562270121523625
    - 0.0024875934141485104
    - 0.00473566035748647
    - 0.011017099549256261
    - 0.003513766205647466
    - 0.010736544419050307
    - 0.008674812266152283
    - 0.01100110091373828
    - 0.0008724160652963875
    - 0.0025283922438319962
    - 0.0008743672925117623
    - 0.004064381305784134
    - 0.0008814398827947293
    
[NeMo W 2024-05-02 19:22:34 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    src_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:22:34 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    src_file_name: /data/valid_nmt_1.2/validation-cs-en.ref
    tgt_file_name: /data/valid_nmt_1.2/validation-cs-en.src
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:22:34 megatron_init:253] Rank 0 has data parallel group : [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:259] Rank 0 has combined group of data parallel and context parallel : [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:264] All data parallel group ranks with context parallel combined: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:267] Ranks 0 has data parallel rank: 0
[NeMo I 2024-05-02 19:22:34 megatron_init:284] Rank 0 has context parallel group: [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:287] All context parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:288] Ranks 0 has context parallel rank: 0
[NeMo I 2024-05-02 19:22:34 megatron_init:299] Rank 0 has model parallel group: [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:300] All model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:310] Rank 0 has tensor model parallel group: [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:314] All tensor model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:315] Rank 0 has tensor model parallel rank: 0
[NeMo I 2024-05-02 19:22:34 megatron_init:344] Rank 0 has pipeline model parallel group: [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:356] Rank 0 has embedding group: [0]
[NeMo I 2024-05-02 19:22:34 megatron_init:362] All pipeline model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:363] Rank 0 has pipeline model parallel rank 0
[NeMo I 2024-05-02 19:22:34 megatron_init:364] All embedding group ranks: [[0]]
[NeMo I 2024-05-02 19:22:34 megatron_init:365] Rank 0 has embedding rank: 0
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1213] The model: ModularizedAudioT5Model() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:34 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:22:34 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmpxtnpfgf_/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:22:34 megatron_base_model:621] Padded vocab_size: 64000, original vocab_size: 64000, dummy tokens: 0.
[NeMo W 2024-05-02 19:22:36 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    src_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs
    - /data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da
    - /data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de
    - /data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el
    - /data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es
    - /data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi
    - /data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr
    - /data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu
    - /data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it
    - /data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt
    - /data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv
    - /data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl
    - /data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no
    - /data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl
    - /data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt
    - /data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro
    - /data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru
    - /data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk
    - /data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv
    - /data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja
    - /data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi
    - /data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko
    - /data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et
    - /data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl
    - /data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg
    - /data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk
    - /data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr
    - /data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar
    - /data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi
    - /data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr
    - /data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id
    - /data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en
    - /data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en
    - /data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de
    - /data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de
    - /data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de
    - /data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de
    - /data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de
    - /data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es
    - /data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es
    - /data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es
    - /data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es
    - /data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es
    - /data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr
    - /data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr
    - /data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr
    - /data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr
    - /data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr
    - /data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja
    - /data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja
    - /data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja
    - /data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja
    - /data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja
    - /data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru
    - /data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru
    - /data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru
    - /data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru
    - /data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru
    - /data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh
    - /data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh
    - /data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh
    - /data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh
    - /data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh
    dataset_type: text_memmap
    sampler: megatron
    objective: nmt
    sampling_ratios:
      x-masking: 0.17
      r-masking: 0.17
      s-masking: 0.16
      nmt: 0.5
    micro_batch_size: 32
    global_batch_size: 4096
    max_seq_length: 200
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    concat_sampling_probabilities:
    - 0.012079820672707742
    - 0.016125217503511844
    - 0.03626405466253948
    - 0.01217289500041378
    - 0.04520111041715901
    - 0.007778295986876517
    - 0.03959457585431642
    - 0.00937805808913587
    - 0.027516665418018966
    - 0.010004415544666008
    - 0.009052615756098137
    - 0.01664103670972995
    - 0.01317695006198955
    - 0.010400945451383595
    - 0.03700537499491787
    - 0.01213023719986516
    - 0.023180697856706678
    - 0.0079325539040838
    - 0.011030260193413926
    - 0.019903551776449247
    - 0.00548458605245884
    - 0.010315645749094665
    - 0.009498254269640816
    - 0.009666841771959356
    - 0.008698798484594553
    - 0.009119913897487926
    - 0.012526596113277083
    - 0.001030286797419826
    - 0.013440850595640926
    - 0.013895414829953141
    - 0.014310913420997613
    - 0.01704821157161736
    - 0.004173268999221557
    - 0.009057451914012637
    - 0.02863892065664867
    - 0.005480045807058129
    - 0.037354112218624426
    - 0.004483874066833804
    - 0.03138995440424893
    - 0.002395876541837417
    - 0.01919199888020302
    - 0.002800415770666161
    - 0.0009953634967244916
    - 0.008353124755753881
    - 0.006437406068637299
    - 0.0033554558228045274
    - 0.029167786295177012
    - 0.005308275622888979
    - 0.014194241584489132
    - 0.0013918329447084512
    - 0.003765193961949543
    - 0.010465396840845227
    - 0.00548458605245884
    - 0.0019940542787465713
    - 0.002757370990960256
    - 0.00216151231674439
    - 0.000858616548617175
    - 0.001144572514820409
    - 0.004136350127695843
    - 0.0009179128306017478
    - 0.00843676070723886
    - 0.005691504608208263
    - 0.005978464578748304
    - 0.00832996592427451
    - 0.00748234388829959
    - 0.01001855337068116
    - 0.0076602485249064566
    - 0.010198830066225314
    - 0.009994006692207293
    - 0.009841454598160639
    - 0.010020227396225174
    - 0.012478618376789777
    - 0.012662384157748709
    - 0.004846483163020644
    - 0.012518401521379334
    - 0.00756044532401132
    - 0.01277125854810163
    - 0.00763170172789367
    - 0.015043000006714921
    - 0.004847278427901452
    - 0.00268364854130784
    - 0.0024562270121523625
    - 0.0024875934141485104
    - 0.00473566035748647
    - 0.011017099549256261
    - 0.003513766205647466
    - 0.010736544419050307
    - 0.008674812266152283
    - 0.01100110091373828
    - 0.0008724160652963875
    - 0.0025283922438319962
    - 0.0008743672925117623
    - 0.004064381305784134
    - 0.0008814398827947293
    
[NeMo W 2024-05-02 19:22:36 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    src_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru
    tgt_file_name:
    - /data/valid_nmt_1.2/validation-cs-en.src
    - /data/flores/flores-101/flores101_dataset/dev/dan.dev
    - /data/valid_nmt_1.2/validation-de-en.src
    - /data/flores/flores-101/flores101_dataset/dev/ell.dev
    - /data/valid_nmt_1.2/validation-es-en.src
    - /data/valid_nmt_1.2/validation-fi-en.src
    - /data/valid_nmt_1.2/validation-fr-en.src
    - /data/valid_nmt_1.2/validation-hu-en.src
    - /data/valid_nmt_1.2/validation-it-en.src
    - /data/valid_nmt_1.2/validation-lt-en.src
    - /data/valid_nmt_1.2/validation-lv-en.src
    - /data/flores/flores-101/flores101_dataset/dev/nld.dev
    - /data/flores/flores-101/flores101_dataset/dev/nob.dev
    - /data/valid_nmt_1.2/validation-pl-en.src
    - /data/flores/flores-101/flores101_dataset/dev/por.dev
    - /data/valid_nmt_1.2/validation-ro-en.src
    - /data/valid_nmt_1.2/validation-ru-en.src
    - /data/flores/flores-101/flores101_dataset/dev/slk.dev
    - /data/flores/flores-101/flores101_dataset/dev/swe.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.src
    - /data/valid_nmt_1.2/wmt20.ja-en.src
    - /data/valid_nmt_1.2/validation-hi-en.src
    - /data/flores/flores-101/flores101_dataset/dev/kor.dev
    - /data/flores/flores-101/flores101_dataset/dev/est.dev
    - /data/flores/flores-101/flores101_dataset/dev/slv.dev
    - /data/flores/flores-101/flores101_dataset/dev/bul.dev
    - /data/flores/flores-101/flores101_dataset/dev/ukr.dev
    - /data/flores/flores-101/flores101_dataset/dev/hrv.dev
    - /data/flores/flores-101/flores101_dataset/dev/ara.dev
    - /data/flores/flores-101/flores101_dataset/dev/vie.dev
    - /data/flores/flores-101/flores101_dataset/dev/tur.dev
    - /data/flores/flores-101/flores101_dataset/dev/ind.dev
    - /data/valid_nmt_1.2/validation-cs-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-de-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-es-en.ref
    - /data/valid_nmt_1.2/validation-fi-en.ref
    - /data/valid_nmt_1.2/validation-fr-en.ref
    - /data/valid_nmt_1.2/validation-hu-en.ref
    - /data/valid_nmt_1.2/validation-it-en.ref
    - /data/valid_nmt_1.2/validation-lt-en.ref
    - /data/valid_nmt_1.2/validation-lv-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-pl-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/validation-ro-en.ref
    - /data/valid_nmt_1.2/validation-ru-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_1.2/wmt20-zh-en.ref
    - /data/valid_nmt_1.2/wmt20.ja-en.ref
    - /data/valid_nmt_1.2/validation-hi-en.ref
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/flores/flores-101/flores101_dataset/dev/eng.dev
    - /data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de
    - /data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de
    - /data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de
    - /data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de
    - /data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de
    - /data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es
    - /data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es
    - /data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es
    - /data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es
    - /data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es
    - /data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr
    - /data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr
    - /data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr
    - /data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr
    - /data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr
    - /data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja
    - /data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja
    - /data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja
    - /data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja
    - /data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja
    - /data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru
    - /data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru
    - /data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru
    - /data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru
    - /data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru
    - /data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh
    - /data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh
    - /data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh
    - /data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh
    - /data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:22:36 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    src_file_name: /data/valid_nmt_1.2/validation-cs-en.ref
    tgt_file_name: /data/valid_nmt_1.2/validation-cs-en.src
    dataset_type: text
    tokens_in_batch: 512
    clean: false
    max_seq_length: 512
    shuffle: false
    num_samples: -1
    drop_last: false
    pin_memory: false
    num_workers: 0
    
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:22:36 megatron_init:253] Rank 0 has data parallel group : [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:259] Rank 0 has combined group of data parallel and context parallel : [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:264] All data parallel group ranks with context parallel combined: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:267] Ranks 0 has data parallel rank: 0
[NeMo I 2024-05-02 19:22:36 megatron_init:284] Rank 0 has context parallel group: [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:287] All context parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:288] Ranks 0 has context parallel rank: 0
[NeMo I 2024-05-02 19:22:36 megatron_init:299] Rank 0 has model parallel group: [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:300] All model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:310] Rank 0 has tensor model parallel group: [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:314] All tensor model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:315] Rank 0 has tensor model parallel rank: 0
[NeMo I 2024-05-02 19:22:36 megatron_init:344] Rank 0 has pipeline model parallel group: [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:356] Rank 0 has embedding group: [0]
[NeMo I 2024-05-02 19:22:36 megatron_init:362] All pipeline model parallel group ranks: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:363] Rank 0 has pipeline model parallel rank 0
[NeMo I 2024-05-02 19:22:36 megatron_init:364] All embedding group ranks: [[0]]
[NeMo I 2024-05-02 19:22:36 megatron_init:365] Rank 0 has embedding rank: 0
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: context_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: virtual_pipeline_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: expert_model_parallel_size in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: gradient_accumulation_fusion in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_overlap in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_ag in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_split_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_atomic_rs in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_wgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: tp_comm_bulk_dgrad in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: finalize_model_grads_func in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: overlap_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: batch_p2p_comm in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_num_layers in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: _cpu_offloading_context in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_activations in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: cpu_offloading_weights in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1213] The model: MegatronNMTModel() does not have field.name: barrier_with_L1_time in its cfg. Add this key to cfg or config_mapping to make to make it configurable.
[NeMo W 2024-05-02 19:22:36 megatron_base_model:1224] hidden_size not found in {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}. Set this in model_parallel_config if using pipeline parallelism.
[NeMo I 2024-05-02 19:22:36 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmp9mv9ay6i/14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:22:36 tokenizer_utils:187] Getting SentencePiece with model: /tmp/tmp9mv9ay6i/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model
[NeMo I 2024-05-02 19:22:36 megatron_base_model:621] Padded vocab_size: 64128, original vocab_size: 64033, dummy tokens: 95.
[NeMo I 2024-05-02 19:22:37 nlp_overrides:1133] Model MegatronNMTModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo.
[NeMo I 2024-05-02 19:22:37 modular_models_t5:152] self.frozen_model.cfg: {'encoder': {'num_layers': 12, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'decoder': {'num_layers': 24, 'hidden_size': 1280, 'ffn_hidden_size': 5120, 'num_attention_heads': 20, 'init_method_std': 0.02, 'hidden_dropout': 0.0, 'attention_dropout': 0.0, 'ffn_dropout': 0.0, 'position_embedding_type': 'relative', 'relative_attention_num_buckets': 32, 'relative_attention_max_distance': 128, 'relative_position_bias_self_attention_only': True, 'kv_channels': None, 'apply_query_key_layer_scaling': True, 'layernorm_epsilon': 1e-05, 'persist_layer_norm': True, 'bias_activation_fusion': False, 'grad_div_ar_fusion': True, 'masked_softmax_fusion': False, 'bias_dropout_add_fusion': False, 'bias': False, 'normalization': 'rmsnorm', 'arch': 'transformer', 'activation': 'geglu', 'headscale': False, 'transformer_block_type': 'pre_ln', 'hidden_steps': 32, 'num_self_attention_per_cross_attention': 1, 'openai_gelu': False, 'onnx_safe': False, 'fp32_residual_connection': False, 'activations_checkpoint_method': None, 'activations_checkpoint_num_layers': 1, 'activations_checkpoint_granularity': None, 'megatron_legacy': False, 'normalize_attention_scores': True, 'num_moe_experts': 1, 'moe_frequency': 1, 'moe_dropout': 0.0}, 'multilingual_lang_to_id': {'cs': 64000, 'da': 64001, 'de': 64002, 'el': 64003, 'es': 64004, 'fi': 64005, 'fr': 64006, 'hu': 64007, 'it': 64008, 'lt': 64009, 'lv': 64010, 'nl': 64011, 'no': 64012, 'pl': 64013, 'pt': 64014, 'ro': 64015, 'ru': 64016, 'sk': 64017, 'sv': 64018, 'zh': 64019, 'ja': 64020, 'hi': 64021, 'ko': 64022, 'et': 64023, 'sl': 64024, 'bg': 64025, 'uk': 64026, 'hr': 64027, 'ar': 64028, 'vi': 64029, 'tr': 64030, 'id': 64031, 'en': 64032}, 'multilingual': True, 'label_smoothing': 0.0, 'shared_tokenizer': True, 'preproc_out_dir': None, 'src_language': ['en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'es', 'fr', 'ja', 'ru', 'zh', 'de', 'fr', 'ja', 'ru', 'zh', 'de', 'es', 'ja', 'ru', 'zh', 'de', 'es', 'fr', 'ru', 'zh', 'de', 'es', 'fr', 'ja', 'zh', 'de', 'es', 'fr', 'ja', 'ru'], 'tgt_language': ['cs', 'da', 'de', 'el', 'es', 'fi', 'fr', 'hu', 'it', 'lt', 'lv', 'nl', 'no', 'pl', 'pt', 'ro', 'ru', 'sk', 'sv', 'zh', 'ja', 'hi', 'ko', 'et', 'sl', 'bg', 'uk', 'hr', 'ar', 'vi', 'tr', 'id', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'en', 'de', 'de', 'de', 'de', 'de', 'es', 'es', 'es', 'es', 'es', 'fr', 'fr', 'fr', 'fr', 'fr', 'ja', 'ja', 'ja', 'ja', 'ja', 'ru', 'ru', 'ru', 'ru', 'ru', 'zh', 'zh', 'zh', 'zh', 'zh'], 'max_generation_delta': 10, 'pretrained_model_path': None, 'pretrained_model_type': 'T5', 'micro_batch_size': 2, 'global_batch_size': 2, 'tensor_model_parallel_size': 1, 'pipeline_model_parallel_size': 1, 'pipeline_model_parallel_split_rank': 0, 'resume_from_checkpoint': None, 'make_vocab_size_divisible_by': 128, 'megatron_amp_O2': False, 'grad_allreduce_chunk_size_mb': 125, 'grad_div_ar_fusion': True, 'gradient_as_bucket_view': False, 'seq_length': 512, 'max_position_embeddings': 512, 'embedding_init_method_std': 0.02, 'embedding_dropout': 0.0, 'share_token_embeddings': True, 'share_decoder_tokens_head_embeddings': True, 'tokens_head_bias': True, 'native_amp_init_scale': 4294967296, 'native_amp_growth_interval': 1000, 'fp16_lm_cross_entropy': False, 'seed': 1234, 'use_cpu_initialization': False, 'apex_transformer_log_level': 30, 'train_ds': {'src_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.da', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.de', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.el', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.es', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.it', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.no', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.et', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.id', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.es', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.fr', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.ja', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.ru', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.zh', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.de', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.fr', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.ja', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.ru', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.zh', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.de', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.es', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.ja', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.ru', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.zh', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.de', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.es', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.fr', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ru', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.zh', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.de', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.es', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.fr', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ja', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.zh', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.de', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.es', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.fr', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.ja', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/augmented_dataset_2404/nmtset1.2-en-cs/train.dedup.shuf.cs', '/data/augmented_dataset_2404/nmtset1.2-en-da/train.dedup.shuf.da', '/data/augmented_dataset_2404/nmtset1.2-en-de/train.dedup.shuf.de', '/data/augmented_dataset_2404/nmtset1.2-en-el/train.dedup.shuf.el', '/data/augmented_dataset_2404/nmtset1.2-en-es/train.dedup.shuf.es', '/data/augmented_dataset_2404/nmtset1.2-en-fi/train.dedup.shuf.fi', '/data/augmented_dataset_2404/nmtset1.2-en-fr/train.dedup.shuf.fr', '/data/augmented_dataset_2404/nmtset1.2-en-hu/train.dedup.shuf.hu', '/data/augmented_dataset_2404/nmtset1.2-en-it/train.dedup.shuf.it', '/data/augmented_dataset_2404/nmtset1.2-en-lt/train.dedup.shuf.lt', '/data/augmented_dataset_2404/nmtset1.2-en-lv/train.dedup.shuf.lv', '/data/augmented_dataset_2404/nmtset1.2-en-nl/train.dedup.shuf.nl', '/data/augmented_dataset_2404/nmtset1.2-en-no/train.dedup.shuf.no', '/data/augmented_dataset_2404/nmtset1.2-en-pl/train.dedup.shuf.pl', '/data/augmented_dataset_2404/nmtset1.2-en-pt/train.dedup.shuf.pt', '/data/augmented_dataset_2404/nmtset1.2-en-ro/train.dedup.shuf.ro', '/data/augmented_dataset_2404/nmtset1.2-en-ru/train.dedup.shuf.ru', '/data/augmented_dataset_2404/nmtset1.2-en-sk/train.dedup.shuf.sk', '/data/augmented_dataset_2404/nmtset1.2-en-sv/train.dedup.shuf.sv', '/data/augmented_dataset_2404/nmtset1.2-en-zh/train.dedup.shuf.zh', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.ja', '/data/augmented_dataset_2404/nmtset1.2-en-hi/train.dedup.shuf.hi', '/data/augmented_dataset_2404/nmtset1.2-en-ko/train.dedup.shuf.ko', '/data/augmented_dataset_2404/nmtset1.2-en-et/train.dedup.shuf.et', '/data/augmented_dataset_2404/nmtset1.2-en-sl/train.dedup.shuf.sl', '/data/augmented_dataset_2404/nmtset1.2-en-bg/train.dedup.shuf.bg', '/data/augmented_dataset_2404/nmtset1.2-en-uk/train.dedup.shuf.uk', '/data/augmented_dataset_2404/nmtset1.2-en-hr/train.dedup.shuf.hr', '/data/augmented_dataset_2404/nmtset1.2-en-ar/train.dedup.shuf.ar', '/data/augmented_dataset_2404/nmtset1.2-en-vi/train.dedup.shuf.vi', '/data/augmented_dataset_2404/nmtset1.2-en-tr/train.dedup.shuf.tr', '/data/augmented_dataset_2404/nmtset1.2-en-id/train.dedup.shuf.id', '/data/nmt_train_1.2/nmtset1.2-en-cs/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-da/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-de/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-el/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-es/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-fr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hu/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-it/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-lv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-nl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-no/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-pt/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ro/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ru/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sv/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-zh/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ja/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ko/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-et/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-sl/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-bg/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-uk/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-hr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-ar/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-vi/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-tr/train.dedup.shuf.en', '/data/nmt_train_1.2/nmtset1.2-en-id/train.dedup.shuf.en', '/data/trainset_pivot_2404/de2es/train.dedup.shuf.de2es.de', '/data/trainset_pivot_2404/de2fr/train.dedup.shuf.de2fr.de', '/data/trainset_pivot_2404/de2ja/train.dedup.shuf.de2ja.de', '/data/trainset_pivot_2404/de2ru/train.dedup.shuf.de2ru.de', '/data/trainset_pivot_2404/de2zh/train.dedup.shuf.de2zh.de', '/data/trainset_pivot_2404/es2de/train.dedup.shuf.es2de.es', '/data/trainset_pivot_2404/es2fr/train.dedup.shuf.es2fr.es', '/data/trainset_pivot_2404/es2ja/train.dedup.shuf.es2ja.es', '/data/trainset_pivot_2404/es2ru/train.dedup.shuf.es2ru.es', '/data/trainset_pivot_2404/es2zh/train.dedup.shuf.es2zh.es', '/data/trainset_pivot_2404/fr2de/train.dedup.shuf.fr2de.fr', '/data/trainset_pivot_2404/fr2es/train.dedup.shuf.fr2es.fr', '/data/trainset_pivot_2404/fr2ja/train.dedup.shuf.fr2ja.fr', '/data/trainset_pivot_2404/fr2ru/train.dedup.shuf.fr2ru.fr', '/data/trainset_pivot_2404/fr2zh/train.dedup.shuf.fr2zh.fr', '/data/trainset_pivot_2404/ja2de/train.dedup.shuf.ja2de.ja', '/data/trainset_pivot_2404/ja2es/train.dedup.shuf.ja2es.ja', '/data/trainset_pivot_2404/ja2fr/train.dedup.shuf.ja2fr.ja', '/data/trainset_pivot_2404/ja2ru/train.dedup.shuf.ja2ru.ja', '/data/trainset_pivot_2404/ja2zh/train.dedup.shuf.ja2zh.ja', '/data/trainset_pivot_2404/ru2de/train.dedup.shuf.ru2de.ru', '/data/trainset_pivot_2404/ru2es/train.dedup.shuf.ru2es.ru', '/data/trainset_pivot_2404/ru2fr/train.dedup.shuf.ru2fr.ru', '/data/trainset_pivot_2404/ru2ja/train.dedup.shuf.ru2ja.ru', '/data/trainset_pivot_2404/ru2zh/train.dedup.shuf.ru2zh.ru', '/data/trainset_pivot_2404/zh2de/train.dedup.shuf.zh2de.zh', '/data/trainset_pivot_2404/zh2es/train.dedup.shuf.zh2es.zh', '/data/trainset_pivot_2404/zh2fr/train.dedup.shuf.zh2fr.zh', '/data/trainset_pivot_2404/zh2ja/train.dedup.shuf.zh2ja.zh', '/data/trainset_pivot_2404/zh2ru/train.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text_memmap', 'sampler': 'megatron', 'objective': 'nmt', 'sampling_ratios': {'x-masking': 0.17, 'r-masking': 0.17, 's-masking': 0.16, 'nmt': 0.5}, 'micro_batch_size': 32, 'global_batch_size': 4096, 'max_seq_length': 200, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0, 'concat_sampling_probabilities': [0.012079820672707742, 0.016125217503511844, 0.03626405466253948, 0.01217289500041378, 0.04520111041715901, 0.007778295986876517, 0.03959457585431642, 0.00937805808913587, 0.027516665418018966, 0.010004415544666008, 0.009052615756098137, 0.01664103670972995, 0.01317695006198955, 0.010400945451383595, 0.03700537499491787, 0.01213023719986516, 0.023180697856706678, 0.0079325539040838, 0.011030260193413926, 0.019903551776449247, 0.00548458605245884, 0.010315645749094665, 0.009498254269640816, 0.009666841771959356, 0.008698798484594553, 0.009119913897487926, 0.012526596113277083, 0.001030286797419826, 0.013440850595640926, 0.013895414829953141, 0.014310913420997613, 0.01704821157161736, 0.004173268999221557, 0.009057451914012637, 0.02863892065664867, 0.005480045807058129, 0.037354112218624426, 0.004483874066833804, 0.03138995440424893, 0.002395876541837417, 0.01919199888020302, 0.002800415770666161, 0.0009953634967244916, 0.008353124755753881, 0.006437406068637299, 0.0033554558228045274, 0.029167786295177012, 0.005308275622888979, 0.014194241584489132, 0.0013918329447084512, 0.003765193961949543, 0.010465396840845227, 0.00548458605245884, 0.0019940542787465713, 0.002757370990960256, 0.00216151231674439, 0.000858616548617175, 0.001144572514820409, 0.004136350127695843, 0.0009179128306017478, 0.00843676070723886, 0.005691504608208263, 0.005978464578748304, 0.00832996592427451, 0.00748234388829959, 0.01001855337068116, 0.0076602485249064566, 0.010198830066225314, 0.009994006692207293, 0.009841454598160639, 0.010020227396225174, 0.012478618376789777, 0.012662384157748709, 0.004846483163020644, 0.012518401521379334, 0.00756044532401132, 0.01277125854810163, 0.00763170172789367, 0.015043000006714921, 0.004847278427901452, 0.00268364854130784, 0.0024562270121523625, 0.0024875934141485104, 0.00473566035748647, 0.011017099549256261, 0.003513766205647466, 0.010736544419050307, 0.008674812266152283, 0.01100110091373828, 0.0008724160652963875, 0.0025283922438319962, 0.0008743672925117623, 0.004064381305784134, 0.0008814398827947293]}, 'validation_ds': {'src_file_name': ['/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.es', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.fr', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.ja', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.ru', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.zh', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.de', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.fr', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.ja', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.ru', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.zh', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.de', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.es', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.ja', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.ru', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.zh', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.de', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.es', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.fr', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ru', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.zh', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.de', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.es', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.fr', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ja', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.zh', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.de', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.es', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.fr', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.ja', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.ru'], 'tgt_file_name': ['/data/valid_nmt_1.2/validation-cs-en.src', '/data/flores/flores-101/flores101_dataset/dev/dan.dev', '/data/valid_nmt_1.2/validation-de-en.src', '/data/flores/flores-101/flores101_dataset/dev/ell.dev', '/data/valid_nmt_1.2/validation-es-en.src', '/data/valid_nmt_1.2/validation-fi-en.src', '/data/valid_nmt_1.2/validation-fr-en.src', '/data/valid_nmt_1.2/validation-hu-en.src', '/data/valid_nmt_1.2/validation-it-en.src', '/data/valid_nmt_1.2/validation-lt-en.src', '/data/valid_nmt_1.2/validation-lv-en.src', '/data/flores/flores-101/flores101_dataset/dev/nld.dev', '/data/flores/flores-101/flores101_dataset/dev/nob.dev', '/data/valid_nmt_1.2/validation-pl-en.src', '/data/flores/flores-101/flores101_dataset/dev/por.dev', '/data/valid_nmt_1.2/validation-ro-en.src', '/data/valid_nmt_1.2/validation-ru-en.src', '/data/flores/flores-101/flores101_dataset/dev/slk.dev', '/data/flores/flores-101/flores101_dataset/dev/swe.dev', '/data/valid_nmt_1.2/wmt20-zh-en.src', '/data/valid_nmt_1.2/wmt20.ja-en.src', '/data/valid_nmt_1.2/validation-hi-en.src', '/data/flores/flores-101/flores101_dataset/dev/kor.dev', '/data/flores/flores-101/flores101_dataset/dev/est.dev', '/data/flores/flores-101/flores101_dataset/dev/slv.dev', '/data/flores/flores-101/flores101_dataset/dev/bul.dev', '/data/flores/flores-101/flores101_dataset/dev/ukr.dev', '/data/flores/flores-101/flores101_dataset/dev/hrv.dev', '/data/flores/flores-101/flores101_dataset/dev/ara.dev', '/data/flores/flores-101/flores101_dataset/dev/vie.dev', '/data/flores/flores-101/flores101_dataset/dev/tur.dev', '/data/flores/flores-101/flores101_dataset/dev/ind.dev', '/data/valid_nmt_1.2/validation-cs-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-de-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-es-en.ref', '/data/valid_nmt_1.2/validation-fi-en.ref', '/data/valid_nmt_1.2/validation-fr-en.ref', '/data/valid_nmt_1.2/validation-hu-en.ref', '/data/valid_nmt_1.2/validation-it-en.ref', '/data/valid_nmt_1.2/validation-lt-en.ref', '/data/valid_nmt_1.2/validation-lv-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-pl-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/validation-ro-en.ref', '/data/valid_nmt_1.2/validation-ru-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_1.2/wmt20-zh-en.ref', '/data/valid_nmt_1.2/wmt20.ja-en.ref', '/data/valid_nmt_1.2/validation-hi-en.ref', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/flores/flores-101/flores101_dataset/dev/eng.dev', '/data/valid_nmt_pivot_2404/de2es/valid.dedup.shuf.de2es.de', '/data/valid_nmt_pivot_2404/de2fr/valid.dedup.shuf.de2fr.de', '/data/valid_nmt_pivot_2404/de2ja/valid.dedup.shuf.de2ja.de', '/data/valid_nmt_pivot_2404/de2ru/valid.dedup.shuf.de2ru.de', '/data/valid_nmt_pivot_2404/de2zh/valid.dedup.shuf.de2zh.de', '/data/valid_nmt_pivot_2404/es2de/valid.dedup.shuf.es2de.es', '/data/valid_nmt_pivot_2404/es2fr/valid.dedup.shuf.es2fr.es', '/data/valid_nmt_pivot_2404/es2ja/valid.dedup.shuf.es2ja.es', '/data/valid_nmt_pivot_2404/es2ru/valid.dedup.shuf.es2ru.es', '/data/valid_nmt_pivot_2404/es2zh/valid.dedup.shuf.es2zh.es', '/data/valid_nmt_pivot_2404/fr2de/valid.dedup.shuf.fr2de.fr', '/data/valid_nmt_pivot_2404/fr2es/valid.dedup.shuf.fr2es.fr', '/data/valid_nmt_pivot_2404/fr2ja/valid.dedup.shuf.fr2ja.fr', '/data/valid_nmt_pivot_2404/fr2ru/valid.dedup.shuf.fr2ru.fr', '/data/valid_nmt_pivot_2404/fr2zh/valid.dedup.shuf.fr2zh.fr', '/data/valid_nmt_pivot_2404/ja2de/valid.dedup.shuf.ja2de.ja', '/data/valid_nmt_pivot_2404/ja2es/valid.dedup.shuf.ja2es.ja', '/data/valid_nmt_pivot_2404/ja2fr/valid.dedup.shuf.ja2fr.ja', '/data/valid_nmt_pivot_2404/ja2ru/valid.dedup.shuf.ja2ru.ja', '/data/valid_nmt_pivot_2404/ja2zh/valid.dedup.shuf.ja2zh.ja', '/data/valid_nmt_pivot_2404/ru2de/valid.dedup.shuf.ru2de.ru', '/data/valid_nmt_pivot_2404/ru2es/valid.dedup.shuf.ru2es.ru', '/data/valid_nmt_pivot_2404/ru2fr/valid.dedup.shuf.ru2fr.ru', '/data/valid_nmt_pivot_2404/ru2ja/valid.dedup.shuf.ru2ja.ru', '/data/valid_nmt_pivot_2404/ru2zh/valid.dedup.shuf.ru2zh.ru', '/data/valid_nmt_pivot_2404/zh2de/valid.dedup.shuf.zh2de.zh', '/data/valid_nmt_pivot_2404/zh2es/valid.dedup.shuf.zh2es.zh', '/data/valid_nmt_pivot_2404/zh2fr/valid.dedup.shuf.zh2fr.zh', '/data/valid_nmt_pivot_2404/zh2ja/valid.dedup.shuf.zh2ja.zh', '/data/valid_nmt_pivot_2404/zh2ru/valid.dedup.shuf.zh2ru.zh'], 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'test_ds': {'src_file_name': '/data/valid_nmt_1.2/validation-cs-en.ref', 'tgt_file_name': '/data/valid_nmt_1.2/validation-cs-en.src', 'dataset_type': 'text', 'tokens_in_batch': 512, 'clean': False, 'max_seq_length': 512, 'shuffle': False, 'num_samples': -1, 'drop_last': False, 'pin_memory': False, 'num_workers': 0}, 'optim': {'name': 'distributed_fused_adam', 'lr': 0.0001, 'weight_decay': 0.01, 'betas': [0.9, 0.98], 'sched': {'name': 'CosineAnnealing', 'warmup_steps': 50, 'min_lr': 0.0, 'constant_steps': 0, 'monitor': 'val_loss', 'reduce_on_plateau': False}, 'bucket_cap_mb': 200, 'overlap_grad_sync': False, 'contiguous_grad_buffer': True}, 'encoder_tokenizer': {'library': 'sentencepiece', 'model': '/tmp/tmp9mv9ay6i/14cd70fbce8f4626a4d26d0ae55093a2_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'decoder_tokenizer': {'library': 'sentencepiece', 'model': '/tmp/tmp9mv9ay6i/cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}, 'precision': 'bf16', 'target': 'nemo.collections.nlp.models.machine_translation.megatron_nmt_model.MegatronNMTModel', 'nemo_version': '1.19.0', 'legacy_tokenizer': False, 'audio_prompt_first': False, 'ignore_dummy_audio': False, 'freeze_llm': False, 'freeze_word_emb': False, 'freeze_encoder': False, 'freeze_decoder': False, 'text_loss_weight': 1.0, 'freeze_audio_encoder': False, 'freeze_modality_adapter': False, 'sequence_parallel': False, 'activations_checkpoint_granularity': None, 'activations_checkpoint_num_layers': None, 'activations_checkpoint_method': None, 'data': {'train_ds': {'manifest_filepath': [['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json', 1]], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': True, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': True, 'concat_sampling_probabilities': None, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'sample_rate': 16000, 'max_duration': 24, 'min_duration': 0.1, 'is_tarred': False, 'tarred_audio_filepaths': None, 'shuffle_n': 2048, 'bucketing_strategy': 'fully_randomized', 'bucketing_batch_size': None, 'use_lhotse': True, 'duration_bins': [2, 4, 6, 8, 10, 12, 14, 16, 18], 'lhotse': {'text_field': 'text', 'batch_duration': 80, 'quadratic_duration': 30, 'max_open_streams': 50, 'num_buckets': 30, 'buffer_size': 10000, 'shuffle_buffer_size': 10000, 'duration_bins': [2.92, 3.474, 3.924, 4.335, 4.728, 5.11, 5.487, 5.872, 6.288, 6.696, 7.128, 7.62, 8.208, 8.934, 9.883, 10.56, 11.22, 11.88, 12.51, 13.05, 13.59, 14.13, 14.64, 15.17875, 15.81, 16.54, 17.37, 18.241, 19.18]}, 'convert_canary_prompt_to_text': True, 'seed': 'trng', 'use_bucketing': False, 'canary_tokens_augment_ratio': 0.5, 'batch_size': 1, 'batch_duration': None}, 'validation_ds': {'manifest_filepath': ['/media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json'], 'global_batch_size': 2, 'micro_batch_size': 2, 'shuffle': False, 'num_workers': 0, 'pin_memory': True, 'max_seq_length': 240, 'min_seq_length': 1, 'drop_last': False, 'context_key': 'input', 'label_key': 'output', 'add_eos': True, 'add_sep': True, 'add_bos': True, 'separate_prompt_and_response_with_newline': False, 'write_predictions_to_file': False, 'output_file_path_prefix': None, 'truncation_field': 'context', 'index_mapping_dir': None, 'prompt_template': 'Q: {input}\nA: {output}', 'tokens_to_generate': 128, 'sample_rate': 16000, 'log_every_n_steps': 1, 'metric': {'name': 'wer', 'average': None, 'num_classes': None}, 'convert_canary_prompt_to_text': True, 'use_lhotse': True, 'batch_size': 2, 'use_bucketing': False, 'text_field': 'text'}, 'num_workers': 0}, 'answer_only_loss': True, 'language_model_path': '/workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo', 'save_nemo_on_validation_end': False, 'virtual_prompt_style': 'no-prompts', 'lora_tuning': {'kqv_adapter_dim': 128, 'kv_adapter_dim': 64, 'q_adapter_dim': 32, 'adapter_dropout': 0.0, 'column_init_method': 'xavier', 'row_init_method': 'zero'}, 'perception': {'target': 'nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule', 'use_multi_layer_feat': False, 'modality_adapter': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 1024, 'feat_out': -1, 'n_layers': 2, 'd_model': 512, 'subsampling': 'dw_striding', 'subsampling_factor': 16, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': 'striding', 'reduction_position': -1, 'reduction_factor': 16, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'att_context_style': 'regular', 'xscaling': True, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1, 'stochastic_depth_drop_prob': 0.0, 'stochastic_depth_mode': 'linear', 'stochastic_depth_start_layer': 1}, 'spec_augment': {'_target_': 'nemo.collections.asr.modules.SpectrogramAugmentation', 'freq_masks': 2, 'time_masks': 10, 'freq_width': 27, 'time_width': 0.05}, 'multi_layer_feat': {'layer_idx_list': [0, 6, 12, 16, -1], 'aggregator': {'align_mode': 'max'}}, 'is_canary': True, 'is_ctc': False, 'greedy_decoding_overwrite': True, 'preprocessor': {'_target_': 'nemo.collections.asr.modules.AudioToMelSpectrogramPreprocessor', 'sample_rate': 16000, 'normalize': 'per_feature', 'window_size': 0.025, 'window_stride': 0.01, 'window': 'hann', 'features': 128, 'n_fft': 512, 'log': True, 'frame_splicing': 1, 'dither': 1e-05, 'pad_to': 0, 'pad_value': 0.0}, 'encoder': {'_target_': 'nemo.collections.asr.modules.ConformerEncoder', 'feat_in': 128, 'feat_out': -1, 'n_layers': 24, 'd_model': 1024, 'subsampling': 'dw_striding', 'subsampling_factor': 8, 'subsampling_conv_channels': 256, 'causal_downsampling': False, 'reduction': None, 'reduction_position': None, 'reduction_factor': 1, 'ff_expansion_factor': 4, 'self_attention_model': 'rel_pos', 'n_heads': 8, 'att_context_size': [-1, -1], 'xscaling': False, 'untie_biases': True, 'pos_emb_max_len': 5000, 'conv_kernel_size': 9, 'conv_norm_type': 'batch_norm', 'conv_context_size': None, 'dropout': 0.1, 'dropout_pre_encoder': 0.1, 'dropout_emb': 0.0, 'dropout_att': 0.1}, 'output_dim': 1280}, 'pretrained_audio_model': '/workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo', 'tokenizer': {'library': 'sentencepiece', 'model': 'nemo:cb6a184e9ade4870b96009637085835c_spm_64k_all_32_langs_plus_en_nomoses.model', 'vocab_size': None, 'bpe_dropout': None, 'vocab_file': None, 'special_tokens': None, 'training_sample_size': None, 'r2l': False, 'sentencepiece_legacy': True, 'num_sentinel_tokens': 0}}
[NeMo I 2024-05-02 19:22:37 megatron_t5_adapter_model:460] Before adding adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    0         Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,733.118 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:22:37 megatron_t5_adapter_model:467] Adding encoder adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    7.9 M     Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,764.575 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:22:38 megatron_t5_adapter_model:472] Adding decoder adapters:
      | Name          | Type                                   | Params
    -------------------------------------------------------------------------
    0 | enc_dec_model | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    -------------------------------------------------------------------------
    55.1 M    Trainable params
    1.2 B     Non-trainable params
    1.2 B     Total params
    4,953.319 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:22:38 features:289] PADDING: 0
[NeMo I 2024-05-02 19:22:39 modular_models_t5:782] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
[NeMo I 2024-05-02 19:22:43 mixins:196] _setup_tokenizer: detected an aggregate tokenizer
[NeMo I 2024-05-02 19:22:43 mixins:330] Tokenizer SentencePieceTokenizer initialized with 32 tokens
[NeMo I 2024-05-02 19:22:43 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:43 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:43 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:43 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:22:43 aggregate_tokenizer:72] Aggregate vocab size: 4128
[NeMo W 2024-05-02 19:22:43 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    tarred_audio_filepaths: null
    manifest_filepath: null
    sample_rate: 16000
    shuffle: true
    batch_size: null
    num_workers: 8
    use_lhotse: true
    max_duration: 40
    pin_memory: true
    use_bucketing: false
    bucket_duration_bins: null
    num_buckets: 1
    text_field: answer
    lang_field: target_lang
    batch_duration: 360
    quadratic_duration: 15
    bucket_buffer_size: 20000
    shuffle_buffer_size: 10000
    
[NeMo W 2024-05-02 19:22:43 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 8
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo W 2024-05-02 19:22:43 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 32
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo I 2024-05-02 19:22:43 features:289] PADDING: 0
[NeMo I 2024-05-02 19:22:48 save_restore_connector:263] Model EncDecMultiTaskModel was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo.
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kqv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_kv_adapter
[NeMo I 2024-05-02 19:22:48 adapter_mixins:435] Unfrozen adapter : lora_q_adapter
[NeMo I 2024-05-02 19:22:49 modular_models_t5:283] Optimizer groups set:
      | Name                         | Type                                   | Params
    ----------------------------------------------------------------------------------------
    0 | frozen_model                 | MegatronNMTModel                       | 1.2 B 
    1 | frozen_model.enc_dec_model   | MegatronTokenLevelEncoderDecoderModule | 1.2 B 
    2 | val_metric                   | ModuleList                             | 0     
    3 | val_metric.0                 | WordErrorRate                          | 0     
    4 | perception                   | AudioPerceptionModule                  | 646 M 
    5 | perception.preprocessor      | AudioToMelSpectrogramPreprocessor      | 0     
    6 | perception.encoder           | ConformerEncoder                       | 609 M 
    7 | perception.spec_augmentation | SpectrogramAugmentation                | 0     
    8 | perception.modality_adapter  | ConformerEncoder                       | 36.7 M
    9 | perception.proj              | Linear                                 | 656 K 
    ----------------------------------------------------------------------------------------
    1.9 B     Trainable params
    0         Non-trainable params
    1.9 B     Total params
    7,540.015 Total estimated model params size (MB)
[NeMo I 2024-05-02 19:22:50 nlp_overrides:1133] Model ModularizedAudioT5Model was successfully restored from /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo.
[NeMo W 2024-05-02 19:23:06 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/hydra/_internal/hydra.py:119: UserWarning: Future Hydra versions will no longer change working directory at job runtime by default.
    See https://hydra.cc/docs/1.2/upgrades/1.1_to_1.2/changes_to_job_working_dir/ for more information.
      ret = run_job(
    
[NeMo I 2024-05-02 19:23:06 modular_audio_gpt_train:53] 
    
    ************** Experiment configuration ***********
[NeMo I 2024-05-02 19:23:06 modular_audio_gpt_train:54] 
    name: megatron_audio_gpt_peft_tuning
    trainer:
      devices: 1
      accelerator: gpu
      num_nodes: 1
      precision: bf16
      logger: false
      enable_checkpointing: false
      use_distributed_sampler: false
      max_epochs: 9999
      max_steps: 1000000
      limit_train_batches: 10
      log_every_n_steps: 10
      val_check_interval: 10
      gradient_clip_val: 1.0
      accumulate_grad_batches: 1
      benchmark: false
    model_target: nemo.collections.multimodal.speech_llm.models.modular_models_t5.ModularizedAudioT5Model
    exp_manager:
      exp_dir: null
      name: ${name}
      create_wandb_logger: false
      wandb_logger_kwargs:
        project: null
        name: null
      resume_if_exists: true
      resume_ignore_no_checkpoint: true
      create_checkpoint_callback: true
      checkpoint_callback_params:
        monitor: validation_${model.data.validation_ds.metric.name}
        save_top_k: 1
        mode: min
        save_nemo_on_train_end: true
        filename: ${name}--{${exp_manager.checkpoint_callback_params.monitor}:.3f}-{step}-{epoch}
        model_parallel_size: ${model.tensor_model_parallel_size}
        always_save_nemo: false
        save_best_model: true
      create_early_stopping_callback: false
      early_stopping_callback_params:
        monitor: val_loss
        mode: min
        min_delta: 0.001
        patience: 10
        verbose: true
        strict: false
    model:
      virtual_prompt_style: no-prompts
      seed: 1234
      tensor_model_parallel_size: 1
      pipeline_model_parallel_size: 1
      pretrained_audio_model: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
      freeze_llm: false
      freeze_audio_encoder: false
      freeze_modality_adapter: false
      load_audio_encoder: true
      global_batch_size: 2
      micro_batch_size: 2
      language_model_path: /workspace/nemo/works/zhehuaic_works/llm/megatron_nmt_any_any.mengru.nemo
      resume_from_checkpoint: null
      save_nemo_on_validation_end: false
      sync_batch_comm: false
      megatron_amp_O2: false
      sequence_parallel: false
      activations_checkpoint_granularity: null
      activations_checkpoint_method: null
      activations_checkpoint_num_layers: null
      activations_checkpoint_layers_per_pipeline: null
      answer_only_loss: true
      gradient_as_bucket_view: false
      hidden_dropout: 0.0
      attention_dropout: 0.0
      ffn_dropout: 0.0
      lora_tuning:
        kqv_adapter_dim: 128
        kv_adapter_dim: 64
        q_adapter_dim: 32
        adapter_dropout: 0.0
        column_init_method: xavier
        row_init_method: zero
      peft:
        peft_scheme: adapter
        restore_from_path: null
        adapter_tuning:
          type: parallel_adapter
          adapter_dim: 32
          adapter_dropout: 0.0
          norm_position: pre
          column_init_method: xavier
          row_init_method: zero
          norm_type: mixedfusedlayernorm
        p_tuning:
          virtual_tokens: 10
          bottleneck_dim: 1024
          embedding_dim: 1024
          init_std: 0.023
      perception:
        target: nemo.collections.multimodal.speech_llm.modules.perception.AudioPerceptionModule
        use_multi_layer_feat: false
        modality_adapter:
          _target_: nemo.collections.asr.modules.ConformerEncoder
          feat_in: 1024
          feat_out: -1
          n_layers: 2
          d_model: 512
          subsampling: dw_striding
          subsampling_factor: 16
          subsampling_conv_channels: 256
          causal_downsampling: false
          reduction: striding
          reduction_position: -1
          reduction_factor: 16
          ff_expansion_factor: 4
          self_attention_model: rel_pos
          n_heads: 8
          att_context_size:
          - -1
          - -1
          att_context_style: regular
          xscaling: true
          untie_biases: true
          pos_emb_max_len: 5000
          conv_kernel_size: 9
          conv_norm_type: batch_norm
          conv_context_size: null
          dropout: 0.1
          dropout_pre_encoder: 0.1
          dropout_emb: 0.0
          dropout_att: 0.1
          stochastic_depth_drop_prob: 0.0
          stochastic_depth_mode: linear
          stochastic_depth_start_layer: 1
        spec_augment:
          _target_: nemo.collections.asr.modules.SpectrogramAugmentation
          freq_masks: 2
          time_masks: 10
          freq_width: 27
          time_width: 0.05
        multi_layer_feat:
          layer_idx_list:
          - 0
          - 6
          - 12
          - 16
          - -1
          aggregator:
            align_mode: max
        is_canary: true
        is_ctc: false
        greedy_decoding_overwrite: true
      data:
        train_ds:
          manifest_filepath:
          - - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
            - 1
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: true
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: true
          concat_sampling_probabilities: null
          context_key: input
          label_key: output
          add_eos: true
          add_sep: true
          add_bos: true
          separate_prompt_and_response_with_newline: false
          truncation_field: context
          index_mapping_dir: null
          prompt_template: 'Q: {input}
    
            A: {output}'
          sample_rate: 16000
          max_duration: 24
          min_duration: 0.1
          is_tarred: false
          tarred_audio_filepaths: null
          shuffle_n: 2048
          bucketing_strategy: fully_randomized
          bucketing_batch_size: null
          use_lhotse: true
          duration_bins:
          - 2
          - 4
          - 6
          - 8
          - 10
          - 12
          - 14
          - 16
          - 18
          lhotse:
            text_field: text
            batch_duration: 80
            quadratic_duration: 30
            max_open_streams: 50
            num_buckets: 30
            buffer_size: 10000
            shuffle_buffer_size: 10000
            duration_bins:
            - 2.92
            - 3.474
            - 3.924
            - 4.335
            - 4.728
            - 5.11
            - 5.487
            - 5.872
            - 6.288
            - 6.696
            - 7.128
            - 7.62
            - 8.208
            - 8.934
            - 9.883
            - 10.56
            - 11.22
            - 11.88
            - 12.51
            - 13.05
            - 13.59
            - 14.13
            - 14.64
            - 15.17875
            - 15.81
            - 16.54
            - 17.37
            - 18.241
            - 19.18
          convert_canary_prompt_to_text: true
          seed: trng
          use_bucketing: false
          canary_tokens_augment_ratio: 0.5
          batch_size: 1
          batch_duration: null
        validation_ds:
          manifest_filepath:
          - /media/data/datasets/LibriSpeech/LibriSpeech/dev_clean_10.json
          global_batch_size: ${model.global_batch_size}
          micro_batch_size: ${model.micro_batch_size}
          shuffle: false
          num_workers: 0
          pin_memory: true
          max_seq_length: 240
          min_seq_length: 1
          drop_last: false
          context_key: ${model.data.train_ds.context_key}
          label_key: ${model.data.train_ds.label_key}
          add_eos: ${model.data.train_ds.add_eos}
          add_sep: ${model.data.train_ds.add_sep}
          add_bos: ${model.data.train_ds.add_bos}
          separate_prompt_and_response_with_newline: ${model.data.train_ds.separate_prompt_and_response_with_newline}
          write_predictions_to_file: false
          output_file_path_prefix: null
          truncation_field: context
          index_mapping_dir: null
          prompt_template: ${model.data.train_ds.prompt_template}
          tokens_to_generate: 128
          sample_rate: 16000
          log_every_n_steps: 1
          metric:
            name: wer
            average: null
            num_classes: null
          convert_canary_prompt_to_text: true
          use_lhotse: true
          batch_size: 2
          use_bucketing: false
          text_field: text
        num_workers: 0
      optim:
        name: distributed_fused_adam
        lr: 0.0001
        weight_decay: 0.01
        betas:
        - 0.9
        - 0.98
        sched:
          name: CosineAnnealing
          warmup_steps: 50
          min_lr: 0.0
          constant_steps: 0
          monitor: val_loss
          reduce_on_plateau: false
        bucket_cap_mb: 200
        overlap_grad_sync: false
        contiguous_grad_buffer: true
      use_flash_attention: true
      label_smoothing: 0.0
      audio_prompt_first: false
      legacy_tokenizer: false
    
[NeMo W 2024-05-02 19:23:06 nemo_logging:349] /usr/local/lib/python3.10/dist-packages/pytorch_lightning/_graveyard/precision.py:49: The `MixedPrecisionPlugin` is deprecated. Use `pytorch_lightning.plugins.precision.MixedPrecision` instead.
    
[NeMo W 2024-05-02 19:23:06 exp_manager:779] No version folders would be created under the log folder as 'resume_if_exists' is enabled.
[NeMo W 2024-05-02 19:23:06 exp_manager:636] There were no checkpoints found in checkpoint_dir or no checkpoint folder at checkpoint_dir :/workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning/checkpoints. Training from scratch.
[NeMo I 2024-05-02 19:23:06 exp_manager:402] Experiments will be logged at /workspace/nemo/NeMo_merge/examples/multimodal/NeMo_experiments/nemo_experiments/megatron_audio_gpt_peft_tuning
[NeMo I 2024-05-02 19:23:06 exp_manager:862] TensorboardLogger has been set up
[NeMo W 2024-05-02 19:23:06 exp_manager:972] The checkpoint callback was told to monitor a validation value and trainer's max_steps was set to 1000000. Please ensure that max_steps will run for at least 1 epochs to ensure that checkpointing will not error out.
[NeMo I 2024-05-02 19:23:06 modular_audio_gpt_train:65] Resuming training from checkpoint: None
[NeMo I 2024-05-02 19:23:06 modular_models_t5:782] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
[NeMo I 2024-05-02 19:23:13 mixins:196] _setup_tokenizer: detected an aggregate tokenizer
[NeMo I 2024-05-02 19:23:13 mixins:330] Tokenizer SentencePieceTokenizer initialized with 32 tokens
[NeMo I 2024-05-02 19:23:13 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:23:13 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:23:13 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:23:13 mixins:330] Tokenizer SentencePieceTokenizer initialized with 1024 tokens
[NeMo I 2024-05-02 19:23:13 aggregate_tokenizer:72] Aggregate vocab size: 4128
[NeMo W 2024-05-02 19:23:13 modelPT:165] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.
    Train config : 
    tarred_audio_filepaths: null
    manifest_filepath: null
    sample_rate: 16000
    shuffle: true
    batch_size: null
    num_workers: 8
    use_lhotse: true
    max_duration: 40
    pin_memory: true
    use_bucketing: false
    bucket_duration_bins: null
    num_buckets: 1
    text_field: answer
    lang_field: target_lang
    batch_duration: 360
    quadratic_duration: 15
    bucket_buffer_size: 20000
    shuffle_buffer_size: 10000
    
[NeMo W 2024-05-02 19:23:13 modelPT:172] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). 
    Validation config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 8
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo W 2024-05-02 19:23:13 modelPT:178] Please call the ModelPT.setup_test_data() or ModelPT.setup_multiple_test_data() method and provide a valid configuration file to setup the test data loader(s).
    Test config : 
    manifest_filepath: null
    sample_rate: 16000
    batch_size: 32
    shuffle: false
    num_workers: 0
    pin_memory: true
    tarred_audio_filepaths: null
    use_lhotse: true
    text_field: answer
    lang_field: target_lang
    use_bucketing: false
    
[NeMo I 2024-05-02 19:23:13 features:289] PADDING: 0
[NeMo E 2024-05-02 19:23:42 common:523] Model instantiation failed!
    Target class:	nemo.collections.asr.models.aed_multitask_models.EncDecMultiTaskModel
    Error(s):	Error in call to target 'nemo.collections.asr.modules.conformer_encoder.ConformerEncoder':
    BdbQuit()
    Traceback (most recent call last):
      File "/usr/local/lib/python3.10/dist-packages/hydra/_internal/instantiate/_instantiate2.py", line 92, in _call_target
        return _target_(*args, **kwargs)
      File "/workspace/nemo/NeMo_merge/nemo/collections/asr/modules/conformer_encoder.py", line 411, in __init__
        layer = ConformerLayer(
      File "/workspace/nemo/NeMo_merge/nemo/collections/asr/parts/submodules/conformer_modules.py", line 136, in __init__
        self.feed_forward2 = ConformerFeedForward(d_model=d_model, d_ff=d_ff, dropout=dropout)
      File "/workspace/nemo/NeMo_merge/nemo/collections/asr/parts/submodules/conformer_modules.py", line 397, in __init__
        self.linear2 = nn.Linear(d_ff, d_model)
      File "/usr/local/lib/python3.10/dist-packages/torch/nn/modules/linear.py", line 101, in __init__
        self.reset_parameters()
      File "/usr/local/lib/python3.10/dist-packages/torch/nn/modules/linear.py", line 107, in reset_parameters
        init.kaiming_uniform_(self.weight, a=math.sqrt(5))
      File "/usr/local/lib/python3.10/dist-packages/torch/nn/init.py", line 427, in kaiming_uniform_
        with torch.no_grad():
      File "/usr/local/lib/python3.10/dist-packages/torch/nn/init.py", line 427, in kaiming_uniform_
        with torch.no_grad():
      File "/usr/lib/python3.10/bdb.py", line 90, in trace_dispatch
        return self.dispatch_line(frame)
      File "/usr/lib/python3.10/bdb.py", line 115, in dispatch_line
        if self.quitting: raise BdbQuit
    bdb.BdbQuit
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/workspace/nemo/NeMo_merge/nemo/core/classes/common.py", line 502, in from_config_dict
        instance = imported_cls(cfg=config, trainer=trainer)
      File "/workspace/nemo/NeMo_merge/nemo/collections/asr/models/aed_multitask_models.py", line 139, in __init__
        self.encoder = EncDecMultiTaskModel.from_config_dict(self.cfg.encoder)
      File "/workspace/nemo/NeMo_merge/nemo/core/classes/common.py", line 485, in from_config_dict
        instance = hydra.utils.instantiate(config=config)
      File "/usr/local/lib/python3.10/dist-packages/hydra/_internal/instantiate/_instantiate2.py", line 226, in instantiate
        return instantiate_node(
      File "/usr/local/lib/python3.10/dist-packages/hydra/_internal/instantiate/_instantiate2.py", line 347, in instantiate_node
        return _call_target(_target_, partial, args, kwargs, full_key)
      File "/usr/local/lib/python3.10/dist-packages/hydra/_internal/instantiate/_instantiate2.py", line 97, in _call_target
        raise InstantiationException(msg) from e
    hydra.errors.InstantiationException: Error in call to target 'nemo.collections.asr.modules.conformer_encoder.ConformerEncoder':
    BdbQuit()
    
[NeMo I 2024-05-02 19:23:42 modular_models_t5:788] Fail in loading it with ASRModel. Try again with SpeechEncDecSelfSupervisedModel.
[NeMo I 2024-05-02 19:23:42 modular_models_t5:790] Loading pretrained audio model from local file: /workspace/nemo/works/zhehuaic_works/llm/canary-1b.nemo
